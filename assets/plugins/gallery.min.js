/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/photo-sphere-viewer@4.8.0/dist/plugins/gallery.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/*!
* Photo Sphere Viewer 4.8.0
* @copyright 2014-2015 Jérémy Heleine
* @copyright 2015-2022 Damien "Mistic" Sorel
* @licence MIT (https://opensource.org/licenses/MIT)
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("photo-sphere-viewer")):"function"==typeof define&&define.amd?define(["exports","photo-sphere-viewer"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).PhotoSphereViewer=e.PhotoSphereViewer||{},e.PhotoSphereViewer.GalleryPlugin={}),e.PhotoSphereViewer)}(this,(function(e,t){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n.apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a={SHOW_GALLERY:"show-gallery",HIDE_GALLERY:"hide-gallery"},c="psvGalleryItem",h=t.utils.dasherize(c),u=function(e){function t(t){var n,i;return(i=e.call(this,t,"psv-button--hover-scale psv-gallery-button",!0)||this).plugin=i.psv.getPlugin("gallery"),i.plugin&&(i.plugin.on(a.SHOW_GALLERY,o(i)),i.plugin.on(a.HIDE_GALLERY,o(i))),null!=(n=i.plugin)&&n.items.length||i.hide(),i}i(t,e);var n=t.prototype;return n.destroy=function(){this.plugin&&(this.plugin.off(a.SHOW_GALLERY,this),this.plugin.off(a.HIDE_GALLERY,this)),delete this.plugin,e.prototype.destroy.call(this)},n.handleEvent=function(e){e.type===a.SHOW_GALLERY?this.toggleActive(!0):e.type===a.HIDE_GALLERY&&this.toggleActive(!1)},n.isSupported=function(){return!!this.plugin},n.onClick=function(){this.plugin.toggle()},t}(t.AbstractButton);u.id="gallery",u.icon='<svg viewBox="185 115 330 330" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M186.7 326.7V163.3c0-15 8.3-23.3 23.3-23.3h210c15 0 23.3 8.3 23.3 23.3v163.4c0 15-8.3 23.3-23.3 23.3H210c-15 0-23.3-8.3-23.3-23.3zm70 70v-23.4H420c30.2 0 46.7-16.4 46.7-46.6V210H490c15 0 23.3 8.3 23.3 23.3v163.4c0 15-8.3 23.3-23.3 23.3H280c-15 0-23.3-8.3-23.3-23.3zm-23.8-105H397l-40-50.4-26.7 29.7-44.3-54.5zm106.7-76c9.6 0 17.8-7.8 17.8-17.2a18 18 0 0 0-17.8-17.8c-9.4 0-17.2 8.2-17.2 17.8 0 9.4 7.8 17.2 17.2 17.2z"/>\x3c!--Created by Wolf Böse from the Noun Project--\x3e</svg>\n';var p="psv-gallery-item--active",d=function(e){function r(i){var r,s;return(r=e.call(this,i.psv,"psv-gallery psv--capture-event")||this).blankIcon=((s=document.createElement("div")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">\n  <defs>\n    <symbol id="psvGalleryBlankIcon" viewBox="0 0 200 200">\n      <rect x="0" y="0" width="200" height="200" fill="#666"/>\n      <g transform="scale(0.25) translate(25 20) " fill="#eee">\n        <path d="M376 220.61c-85.84 0-155.39 69.56-155.39 155.39 0 85.84 69.56 155.39 155.39 155.39 85.84 0 155.39-69.56 155.39-155.39 0-85.84-69.56-155.39-155.39-155.39zm0 300.92c-80.41 0-145.53-65.12-145.53-145.53S295.59 230.47 376 230.47 521.53 295.59 521.53 376 456.41 521.53 376 521.53z"/>\n        <path d="M467.27 300.03H284.74a18.21 18.21 0 0 0-18.25 18.25v115.43a18.21 18.21 0 0 0 18.25 18.26h182.53a18.21 18.21 0 0 0 18.25-18.26V318.28a18.2 18.2 0 0 0-18.25-18.25zm-190.91 18.25a8.64 8.64 0 0 1 8.39-8.38h182.53a8.64 8.64 0 0 1 8.38 8.38V413l-44.89-35.52c-.49-.5-.99-.5-1.48-.99h-2.46c-.5 0-1 0-1.48.5l-37.5 21.2-43.9-58.7-.5-.5s0-.48-.49-.48c0 0-.49 0-.49-.5-.49 0-.49-.49-.99-.49-.49 0-.49 0-.98-.49H337.53c-.5 0-.5.5-.99.5h-.49l-.5.48s-.48 0-.48.5l-58.7 65.12zM467.27 442.1H284.74a8.64 8.64 0 0 1-8.39-8.38v-15.3l63.15-68.07 42.92 57.22 1.48 1.48h.49c.5.5 1.48.5 1.97.5H388.83l38.47-21.72 46.37 36.5c.5.5 1.49 1 1.98 1v8.88c0 3.95-3.45 7.9-8.38 7.9z"/>\n        <path d="M429.77 333.58a13.81 13.81 0 1 1-27.63 0 13.81 13.81 0 0 1 27.63 0"/>\n      </g>\n    </symbol>\n  </defs>\n</svg>\n',s.firstChild),r.blankIcon.style.display="none",r.psv.container.appendChild(r.blankIcon),"IntersectionObserver"in window&&(r.observer=new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&(e.target.style.backgroundImage="url("+e.target.dataset.src+")",delete e.target.dataset.src,r.observer.unobserve(e.target))}))}),{root:r.psv.container})),r.plugin=i,r.prop=n({},r.prop,{mousedown:!1,initMouseX:null,mouseX:null}),r.container.addEventListener(t.SYSTEM.mouseWheelEvent,o(r)),r.container.addEventListener("mousedown",o(r)),r.container.addEventListener("mousemove",o(r)),r.container.addEventListener("click",o(r)),window.addEventListener("mouseup",o(r)),r.hide(),r}i(r,e);var s=r.prototype;return s.destroy=function(){var t;this.psv.container.removeChild(this.blankIcon),window.removeEventListener("mouseup",this),null==(t=this.observer)||t.disconnect(),delete this.plugin,delete this.blankIcon,delete this.observer,e.prototype.destroy.call(this)},s.handleEvent=function(e){switch(e.type){case t.SYSTEM.mouseWheelEvent:var n=t.utils.normalizeWheel(e).spinY;this.container.scrollLeft+=50*n,e.preventDefault();break;case"mousedown":this.prop.mousedown=!0,this.prop.initMouseX=e.clientX,this.prop.mouseX=e.clientX;break;case"mousemove":if(this.prop.mousedown){var i=this.prop.mouseX-e.clientX;this.container.scrollLeft+=i,this.prop.mouseX=e.clientX}break;case"mouseup":this.prop.mousedown=!1,this.prop.mouseX=null,e.preventDefault();break;case"click":if(Math.abs(this.prop.initMouseX-e.clientX)<10){var r=t.utils.getClosest(e.target,"[data-"+h+"]");r&&this.plugin.__click(r.dataset.psvGalleryItem)}}},s.show=function(){this.container.classList.add("psv-gallery--open"),this.prop.visible=!0},s.hide=function(){this.container.classList.remove("psv-gallery--open"),this.prop.visible=!1},s.setItems=function(e){if(this.container.innerHTML=function(e,t){return'\n<div class="psv-gallery-container">\n  '+e.map((function(e){return'\n  <div class="psv-gallery-item" data-'+h+'="'+e.id+'" style="width:'+t.width+'px">\n    <div class="psv-gallery-item-wrapper" style="padding-bottom:calc(100% * '+t.height+" / "+t.width+')">\n      '+(e.name?'<div class="psv-gallery-item-title"><span>'+e.name+"</span></div>":"")+'\n      <svg class="psv-gallery-item-thumb" viewBox="0 0 200 200" preserveAspectRatio="xMidYMid slice"><use href="#psvGalleryBlankIcon"></use></svg>\n      '+(e.thumbnail?'<div class="psv-gallery-item-thumb" data-src="'+e.thumbnail+'"></div>':"")+"\n    </div>\n  </div>\n  "})).join("")+"\n</div>\n"}(e,this.plugin.config.thumbnailSize),this.observer){this.observer.disconnect();for(var t,n=l(this.container.querySelectorAll("[data-src]"));!(t=n()).done;){var i=t.value;this.observer.observe(i)}}},s.setActive=function(e){var t=this.container.querySelector("."+p);if(null==t||t.classList.remove(p),e){var n=this.container.querySelector("[data-"+h+'="'+e+'"]');null==n||n.classList.add(p)}},r}(t.AbstractComponent);t.DEFAULTS.lang[u.id]="Gallery",t.registerButton(u,"caption:left");var v=function(e){function r(t,i){var r;return(r=e.call(this,t)||this).config=n({items:null,visibleOnLoad:!1,hideOnClick:!0,thumbnailSize:{width:200,height:100}},i),r.prop={handler:null,currentId:null},r.gallery=new d(o(r)),r.items=[],r}i(r,e);var s=r.prototype;return s.init=function(){var n=this;e.prototype.init.call(this),this.psv.on(t.CONSTANTS.EVENTS.PANORAMA_LOADED,this),this.config.visibleOnLoad&&this.psv.once(t.CONSTANTS.EVENTS.READY,(function(){n.show()})),this.setItems(this.config.items),delete this.config.items},s.destroy=function(){this.psv.off(t.CONSTANTS.EVENTS.PANORAMA_LOADED,this),this.gallery.destroy(),e.prototype.destroy.call(this)},s.handleEvent=function(e){if(e.type===t.CONSTANTS.EVENTS.PANORAMA_LOADED){var n=this.items.find((function(n){return t.utils.deepEqual(n.panorama,e.args[0].panorama)}));this.prop.currentId=null==n?void 0:n.id,this.gallery.setActive(null==n?void 0:n.id)}},s.show=function(){return this.trigger(a.SHOW_GALLERY),this.gallery.show()},s.hide=function(){return this.trigger(a.HIDE_GALLERY),this.gallery.hide()},s.toggle=function(){this.gallery.isVisible()?this.hide():this.show()},s.setItems=function(e,i){var r,o;null!=(r=e)&&r.length?e.forEach((function(e,n){if(!e.id)throw new t.PSVError("Item "+n+' has no "id".');if(!e.panorama)throw new t.PSVError("Item "+e.id+' has no "panorama".')})):e=[],this.prop.handler=i,this.items=e.map((function(e){return n({},e,{id:""+e.id})})),this.gallery.setItems(this.items),null==(o=this.psv.navbar.getButton(u.id,!1))||o.toggle(this.items.length>0)},s.__click=function(e){if(e!==this.prop.currentId){if(this.prop.handler)this.prop.handler(e);else{var t=this.items.find((function(t){return t.id===e}));this.psv.setPanorama(t.panorama,n({caption:t.name},t.options))}this.prop.currentId=e,this.gallery.setActive(e),this.config.hideOnClick&&this.hide()}},r}(t.AbstractPlugin);v.id="gallery",v.EVENTS=a,e.EVENTS=a,e.GalleryPlugin=v,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=/sm/8b0ccb138a17998d13a3850ad052c43ea3dff6202c187a6c6065133bb75d5244.map